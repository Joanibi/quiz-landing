<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .pergunta { margin-bottom: 20px; }
    button { padding: 10px 20px; margin: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Descubra seu estilo fitness!</h1>

  <div class="pergunta" data-pergunta="Qual seu objetivo principal?">
    <p>Qual seu objetivo principal?</p>
    <button onclick="enviarResposta(this)">Ganhar massa</button>
    <button onclick="enviarResposta(this)">Perder peso</button>
    <button onclick="enviarResposta(this)">Definição</button>
  </div>

  <div class="pergunta" data-pergunta="Com que frequência treina?">
    <p>Com que frequência treina?</p>
    <button onclick="enviarResposta(this)">1-2x por semana</button>
    <button onclick="enviarResposta(this)">3-4x por semana</button>
    <button onclick="enviarResposta(this)">5x ou mais</button>
  </div>

  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzL56xXNuf1S-9GeV1Dn_7WPMTC1HYaIQKhbrisNToSc8N7X5xmpbeknmCUxHhEG05uvw/exec";

     async function enviarResposta(botao) {
      const pergunta = botao.parentElement.getAttribute("data-pergunta");
      const resposta = botao.innerText;
    
      // Cria o objeto FormData com os dados
      const formData = new FormData();
      formData.append("pergunta", pergunta);
      formData.append("resposta", resposta);
      formData.append("origem", window.location.href);
      
      try {
        const response = await fetch(SCRIPT_URL, {
          method: "POST",
          // O fetch configura automaticamente o 'Content-Type: multipart/form-data' 
          // quando o body é um FormData. Não defina o Content-Type manualmente!
          body: formData 
        });
        
        // Se a requisição foi bem-sucedida, leia o JSON retornado pelo Apps Script
        const data = await response.json();
        
        if (data.status === 'sucesso') {
            console.log("Enviado com Sucesso!");
            // Se quiser, você pode desabilitar os botões ou mostrar uma mensagem
        } else {
            console.error("Erro do Script:", data.mensagem);
        }

      } catch (err) {
        console.error("Erro ao conectar ou processar:", err);
      }
    }
  </script>
</body>
</html>







